Result-aggregation server for the installation-test scripts 
============================================================== 
 
Contents 
-------------- 
1. **Abstract** 
2. **Technical Details** 
3. **Schedule of deliverables** 
4. **Future Works** 
5. **Open Source Development Experience** 
6. **Academic Experience** 
7. **Why this Project ?** 
 
## Abstract 
Software Carpentry has been teaching researchers in science, engineering, medicine, and related disciplines the computing skills they need to get more done in less time and with less pain. Several workshops are held in which students are required to setup their system by installing necessary packages.<br />
Currently software carpentry provides the installation-test scripts so that, students can check that they've successfully installed any software required by their workshop. But the results generated by the scripts are not collected anywhere. <br/>
In this project a server is to be written for storing results of installation-testing scripts, and also enhancing the testing scripts by adding an option for users to collect results and send them to the server. It will help in figuring out what all problems students usually face in installations. 
 
## Technical Details 
I am breaking it down to several steps in which this project has to be approached : 
### System Information collection 
The installation-test script needs to be modified to retrieve some useful information about the user and the environment in which they are running the installation-test-script. 
* Operating System information, which includes : 
  * System information ( Linux / windows / Mac etc ) 
  * Distribution information ( redhat / debian / fedora etc) 
  * Machine Architecture information ( x86 / x64 ) 
  * Complete platform information 
  * Uname ( System info like kernel-name, kernel-version etc ) 
  * Version ( Systemâ€™s release version ) 
  * Machine information ( Machine type, e.g. 'i386' )
  * Python Version
  
All of this information can be retrieved by using a library in python called "Platform", code of which I wrote in my [demo](https://github.com/prerit2010/DemoAPI) application. The code snippet : 
``` 
import platform 
 
system_dist = str(platform.dist()) 
system = platform.system() 
machine = platform.machine() 
system_platform = platform.platform() 
uname = platform.uname() 
version = platform.version() 
python_version = platform.python_version() 
``` 

Sample of output generated in case of Ubuntu : 
``` 
Python version: ['2.7.3 (default, Sep 26 2012, 21:51:14) ', '[GCC 4.7.2]'] 
dist: ('Ubuntu', '12.10', 'quantal') 
linux_distribution: ('Ubuntu', '12.10', 'quantal') 
system: Linux 
machine: x86_64 
platform: Linux-3.5.0-22-generic-x86_64-with-Ubuntu-12.10-quantal 
uname: ('Linux', 'stijn-W150HRM', '3.5.0-22-generic', '#34-Ubuntu SMP Tue Jan 8 21:47:00 UTC 2013', 'x86_64', 'x86_64') 
version: #34-Ubuntu SMP Tue Jan 8 21:47:00 UTC 2013 
``` 
Some or most of these information are being retrieved in the [installation-test-scripts](https://github.com/wking/swc-setup-installation-test).
### Success/Failure of packages information collection 
* **Successful Installs** list is already provided by the script. A list **successes** contains both checker and the version. Server can just grab the full name by **checker.full_name()** and **version** of the successfully installed packages. 
* **Failed Checks** list is also provide by the script with the name of the package, error description and also the cause for some cases. e.g. : 

>check for IPython script (ipython) failed: ( Name : IPython script (ipython) ) <br />
>  errors finding IPython script (ipython) version  <-- Description  <br />
>causes: <br />
>check for IPython script (ipython) failed:  <br />
>    could not find 'ipython' executable  <-- Cause  <br />
 
###Other information 
* Diagnostic information 
* Timestamp 
* User email address ( optional ) 
 
###Server and API 
An API is to be developed to store the results generated by the test script. I shall be using Python's web framework [FLASK](http://flask.pocoo.org/) for this purpose. Reason being, flask is a [microframework](https://en.wikipedia.org/wiki/Microframework) with minimal complexity, and can be easily relied upon, as far as less complex projects are concerned. As we don't require a lot of endpoints or functionalities in this API, flask is the most suitable option as it seems. This would involve : 
* Modification of the installation-test-scrips and giving the user an option to send the data to the server by making a [POST](https://en.wikipedia.org/wiki/POST_(HTTP)) request to the API endpoint with payload of all the information collected. Code Snippet : 
``` 
import requests 
 
headers = { 
    "Content-Type": "application/json", 
} 
HOST = "http://127.0.0.1:5000" 
os_end_point = "/system_info/" 
data = {"system_dist" : system_dist , "version": version} 
uri = "%s%s" % (HOST, os_end_point) 
response = requests.post(uri , data = json.dumps(data) , headers = headers) 
``` 
* This API will follow the [REST](https://en.wikipedia.org/wiki/Representational_state_transfer) standard, and all the data shall be send in [json](http://www.json.org/) to the API. 
 
* Setting up the **Database**. As mentioned in the description of the idea, [SQLite](https://www.sqlite.org/) is preferred, but it suffers some problems in case 40-50 people send the data simultaneously. After going through the comparison given [here](https://www.digitalocean.com/community/tutorials/sqlite-vs-mysql-vs-postgresql-a-comparison-of-relational-database-management-systems), I would personally prefer [MySQL](https://www.mysql.com/) or [PostgreSQL](http://www.postgresql.org/) in this project. But that can be decided later as per the discussion with mentors. 
 
* Modelling the information collected at the client end. There shall be Tables in the database for user_system_info, successful installs and failed installs. All shall be reference with a **unique id**, which will be used as **foreign key** in all the tables, to identify a particular user associated with that entry in the DB. Models shall be defined as follows: 
``` 
from app import db 
class Successful(db.Model): 
  id = db.Column(db.Integer, primary_key=True) 
  package_name = db.Column(db.String(128)) 
  version = db.Column(db.String(128)) 
``` 
###Database Schema
* User shall be prompted to enter the **workshop_id** and **email_id** before sending the data to the server, as it would enable the server to associate each result with the workshop, and summarize conclusions workshop specific and also overall.
* Concatenation of **workshop_id** and **email_id** as **workshopid_email_id** would give us a unique id per user per workshop, and thus would prevent duplicate entries in the table for the same student attending the same workshop.
* Everytime a call is made to the API, it will first check whether an entry is already there for **workshopid_email_id**. If yes, UPDATE query shall be made instead of INSERT query.
* Initial Proposed schema :

![diagram](http://i.imgur.com/VGGJuqd.png)
 
* In response to the POST request the API may return some useful diagnostic information to the user. 

###Frontend
* For the Server Administrator, a basic **frontend** can be developed for him to manage and analyse the results, e.g. 
 * Common install problems faced in a particular workshop 
 * Common install problems faced by students overall. 
 * Which version of package is most prone to errors, etc. 
  
* The front end can be developed using simple HTML, CSS, [Bootstrap](http://getbootstrap.com/) , Javascript.  
* For the better, if time permits, some useful plots can be generated by extracting useful information about the failures. This can be done using [Plotly](https://plot.ly/), as I have done in my [demo project](https://github.com/prerit2010/SurveyMonkey-Sample). This will provide better understanding by visualization.

###Examples of results and Plots :
* Figuring out the most error prone package during installation
![install_plot](http://i.imgur.com/z85Nx40.png)
* Figuring out the most error prone Operating system and environment in installation of a particular package.
![os_plot](http://i.imgur.com/CxBnBGb.png)
 
## Schedule of Deliverables 
**Community Bonding Period** : I would employ this interval for interacting with Software Carpentry community, core developers and project mentors. Read the necessary documentation, learn about organization's processes - release and otherwise - developer interactions, codes of conduct, etc. 
 
### May 25th -  June 7th 
* Analyse all the collectables from the installation-script. 
* Form a basic model of the database to be used at the server end. 
* Add the functionality for the student to send the collectables. 
 
### June 8th - June 21th 
* Setup the Flask API. 
* Setup [Travis](https://docs.travis-ci.com/user/languages/python) to test the code. 
* Setup the database and make connections with the API. 
* Design the models for the database. 
 
### June 22th - July 5th 
* Setting up an endpoint where the user will make the post request. 
* Updating the installation script to make post request. 
* Testing the API and connection by a sample client script as I made [here](https://github.com/prerit2010/DemoAPI/blob/master/client.py). 
 
### July 6th - July 19th 
* Rigorous testing of the information sent by the script, and stored by server. 
* Finalize all the features of the API. 
* Bug fixes 
 
### July 20th - August 2nd 
* Analyse the outcomes of the information recorded in the database. 
* Flask admin shall also be enabled for easy handling of database. 
* Setup basic front end and return information in the form of, may be percentages. 
* Plot the conclusions using plotly. 
 
### August 3rd - August 21th 19:00 UTC 
* Testing the whole application with plots. 
* More bug fixes. 
* Code cleaning and writing documentation 
* The last 2 weeks I would want to polish my work .Test every feature rigorously before it rolls out to the users. Additionally, I will keep track of new tickets being opened and look towards patching them up as well, if they are related to faulty errors and related bugs or reporting issues. 
 
## Future works 
 
Future works will include the improvements in the package installation by analysing the results generated by the API. This would lead to better management of the workshop, and help students to setup their systems in easy and less painful way. 
 
## Open Source Development Experience 
This is the first time, I am contributing to an open source organization, and feel really excited for that. My past works had all been proprietary. I worked for [Zopper](https://www.zopper.com/) as an intern, and particularly developed several RESTful API's and Dashboards using Flask Framework. Although the code is not open source, but the process of development was similar like Open source Development. Using of git, open source tools and technologies etc. I also deployed the applications using [Ansible](https://www.ansible.com/), a very handy tool in deploying applications.  
## Academic Experience 
###About me
* I am a final year B.Tech (Computer Engineering) student in Jamia Millia Islamia University, New Delhi, India. As a part of academic experience I am inclined towards Database, Data Structures and Algorithms.

* My skill sets include : C/C++, Python - Flask, Django, Java, Android, HTML, CSS, JavaScript, MySQL, Sqlite, NoSQL - [MongoDB](https://www.mongodb.org/), REDIS, [ANSIBLE](https://www.ansible.com/).
 
* I have mostly worked with Web Development ( RESTful API's, Dashboards etc ) while working as an intern with Zopper. I worked with Google Cloud Messaging ( GCM ) to send notification and bulk notification to more than 1 million zopper application users.  
 
* I also have experience in Android Application Development. I developed an Android Application for [Litchi](http://www.litchi.co.in/), published it on PlayStore. and also a demo [FourSquare](https://github.com/prerit2010/FourSquare) application to gain more experience in android development. 
 
* Apart from this, as the academic project I worked on cryptography, and published a research paper on "Efficient Substitution Box Design using Travelling Salesman Problem and Chaos". 
 
## Why this project?
This project is concerned with the problems that students face in installing the necessary packages for a workshop. This project will enable the instructors to better understand the problems and remove the package version and other issues, so that the setup process speeds up, and students don't get stuck in just installing the packages for a long time. <br />
I have a lot of experience in developing RESTful API's and web services. This project involves development of a RESTful API and setting up a server. Working upon this, it would give me more experience towards working on APIs and python Scripts, and also a open source experience which is new and exciting for me.
 
## Appendix
###Code Contribution
As per the requirement mentioned in the project information, I developed a sample [demo](https://github.com/prerit2010/DemoAPI) flask API which takes the Operating system information and sends to the API making a POST request.

###Availability
* **Time Zone :** Indian Standard Time (IST) UTC +5:30 
* 2nd Mid semester examinations start: 9th May, 2016
* 2nd Mid semester examinations end : 23rd May, 2016 (Approx.)
* My graduation (B.Tech) completes as soon as exams get over. So, after that I am available full time for the project.
* **Hours per week :** 35 hours (5 hours a day)

###Contact
<table style="width:100%">
  <tr>
    <td>Name</td>
    <td>Prerit Garg</td>
  </tr>
  <tr>
    <td>Email Id</td>
    <td>prerit2010@gmail.com</td>
  </tr>
  <tr>
    <td>Github</td>
    <td>https://github.com/prerit2010</td>
  </tr>
</table>
